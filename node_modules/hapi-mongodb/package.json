{
  "name": "hapi-mongodb",
  "version": "2.0.1",
  "description": "A simple Hapi MongoDB connection plugin.",
  "main": "index.js",
  "scripts": {
    "test": "NODE_ENV=test mocha",
    "testwatch": "NODE_ENV=test mocha -w"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/Marsup/hapi-mongodb.git"
  },
  "keywords": [
    "hapi",
    "mongodb"
  ],
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/Marsup/hapi-mongodb/issues"
  },
  "dependencies": {
    "mongodb": "1.x"
  },
  "devDependencies": {
    "mocha": "1.x",
    "hapi": "2.x || 3.x"
  },
  "peerDependencies": {
    "hapi": "2.x || 3.x"
  },
  "readme": "# Hapi-MongoDB\n\nThis is a plugin to share a common MongoDB connection pool across the whole Hapi server.\n\nIt takes 2 options :\n\n- url: MongoDB connection string (eg. `mongodb://user:pass@localhost:27017`),\n- settings: *Optional.* Provide extra settings to the connection, see [documentation](http://mongodb.github.io/node-mongodb-native/driver-articles/mongoclient.html#mongoclient-connect-options).\n\nSeveral objects are exposed by this plugin :\n\n- `db` : connection object to the database\n- `lib` : mongodb library in case you need to use it\n- `ObjectID` : mongodb ObjectID constructor in case you need to use it\n\nUsage example :\n```js\nvar Hapi = require(\"hapi\");\n\nvar dbOpts = {\n    \"url\": \"mongodb://localhost:27017/test\",\n    \"options\": {\n        \"db\": {\n            \"native_parser\": false\n        }\n    }\n};\n\nvar server = new Hapi.Server(8080);\n\nserver.pack.require('hapi-mongodb', dbOpts, function(err) {\n    if (err) {\n        console.error(err);\n        throw err;\n    }\n});\n\nserver.route( {\n    \"method\"  : \"GET\",\n    \"path\"    : \"/users/{id}\",\n    \"handler\" : usersHandler\n});\n\nfunction usersHandler(request, reply) {\n    var db = request.server.plugins['hapi-mongodb'].db;\n    var ObjectID = request.server.plugins['hapi-mongodb'].ObjectID;\n\n    db.collection('users').findOne({  \"_id\" : new ObjectID(request.params.id) }, function(err, result) {\n        if (err) return reply(Hapi.error.internal('Internal MongoDB error', err));\n        reply(result);\n    });\n};\n\nserver.start(function() {\n    console.log(\"Server started at \" + server.info.uri);\n});\n```\n\nHuge thanks to [@dypsilon](https://github.com/dypsilon) for his help into the making of this plugin.\n",
  "readmeFilename": "README.md",
  "_id": "hapi-mongodb@2.0.1",
  "dist": {
    "shasum": "60acfb9816fa550eeed49b4be62cdc41189d3bc9"
  },
  "_from": "hapi-mongodb@",
  "_resolved": "https://registry.npmjs.org/hapi-mongodb/-/hapi-mongodb-2.0.1.tgz"
}
